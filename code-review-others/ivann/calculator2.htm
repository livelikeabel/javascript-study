<!-- <한 줄로 입력받아 처리하기>

학습 목표
문자열의 조작과 리스트의 사용을 경험한다.
요구사항
사용자가 입력한 문자열 값에 따라 사칙연산을 수행할 수 있는 계산기를 구현해야 한다.
문자열 계산기는 사칙연산의 계산 우선순위가 아닌 입력 값에 따라 계산 순서가 결정된다. 
즉, 수학에서는 곱셈, 나눗셈이 덧셈, 뺄셈 보다 먼저 계산해야 하지만 이를 무시한다.
예를 들어 “2 + 3 * 4 / 2″와 같은 문자열을 입력할 경우 2 + 3 * 4 / 2 실행 결과인 10을 출력해야 한다.
입력은 텍스트로 한 줄로 받고 숫자와 연산자 사이는 스페이스로 분할한다. 2 + 3 * 5 처럼 입력을 받아 처리한다.
입력과 출력은 html의 input과 div 태그를 사용한다.
힌트
문자열의 split(" ")을 이용하면 요구사항대로 구현할 수 있다.
-->

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Calculator6</title>
</head>

<body>
    <h1>계산기</h1>
    <div id="output">힘내</div>

    <script>

        let input = {
            getExpression: function () {
                let expression = prompt("식을 적어보세요").split(" ");
                return expression;
            },
            getEmpty: function (expression) {
                return expression.length == 0
            },
            getElement: function (expression) {
                debugger;
                let strElement = expression.shift();
                let numberElement = Number(strElement);
                return numberElement;
            },
            getOperator: function () {
                let operator = this.expression.shift();
                if (operator == "+" || operator == "-" || operator == "*" || operator == "/") {
                    return operator;
                }
            }
        }

        let calculator = {
            expressionAnalysis: function (firstNum, secondNum, operator) {
                let result;
                switch (operator) {
                    case "+":
                        result = firstNum + secondNum;
                        break;
                    case "-":
                        result = firstNum - secondNum;
                        break;
                    case "*":
                        result = firstNum * secondNum;
                        break;
                    case "/":
                        result = firstNum / secondNum;
                        break;
                    default:
                        return NaN;
                }
            }
        }

        let out = {
            finallyResult: function (result) {
                alert(`이게 결과야 임마 ${result}`)
            }
        }

        function main() {
            let expression = input.getExpression();
            let result = input.getElement(expression);
            while (!input.getEmpty(expression)) {
                let operator = input.getOperator();
                let secondNum = input.getElement();
                result = calculator.expressionAnalysis(result, secondNum, operator);
            }
            out.finallyResult(result);
        }
        main();

    </script>

</body>

</html>